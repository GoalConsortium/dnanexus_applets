{
  "name": "dna_somatic",
  "title": "DNA Tumor/Normal Somatic",
  "version": "1.0.0",
  "summary": "Tumor Variant Detection",
  "inputs": [
    {
      "name": "CaseID",
      "class": "string"
    },
    {
      "name": "TumorID",
      "class": "string"
    },
    {
      "name": "NormalID",
      "class": "string"
    },
    {
      "name": "TumorFqR1",
      "class": "file"
    },
    {
      "name": "TumorFqR2",
      "class": "file"
    },
    {
      "name": "NormalFqR1",
      "class": "file"
    },
    {
      "name": "NormalFqR2",
      "class": "file"
    },
    {
      "name": "PanelFile",
      "class": "file"
    }
  ],
  "stages": [
    {
      "id": "stage-FvpbKFQ0Y9g139Y04b101pX6",
      "name": "Tumor Trim Galore",
	"folder":"dnaout",
	"executable": "applet-FvpbG0Q0Y9gPxq3G4fFVfF1z",
      "input": {
	"fq1": {
	  "$dnanexus_link": {
	    "workflowInputField": "TumorFqR1"
	  } 
	},
	"fq2": {
	  "$dnanexus_link": {
	    "workflowInputField": "TumorFqR2"
	  }
	},
	"sampleid": {
	  "$dnanexus_link": {
	    "workflowInputField": "TumorID"
	  }
	}
      },
      "systemRequirements": {
	"main": {
	  "instanceType": "mem1_ssd1_v2_x2"
	}
      }
    },
    {
      "id": "stage-Fvpf02j0Y9g24fZqGk2zJPpy",
      "name": "Normal Trim Galore",
	"folder":"dnaout",
	"executable": "applet-FvpbG0Q0Y9gPxq3G4fFVfF1z",
      "input": {
	"fq1": {
	  "$dnanexus_link": {
	    "workflowInputField": "NormalFqR1"
	  } 
	},
	"fq2": {
	  "$dnanexus_link": {
	    "workflowInputField": "NormalFqR2"
	  }
	},
	"sampleid": {
	  "$dnanexus_link": {
	    "workflowInputField": "NormalID"
	  }
	}
      },
      "systemRequirements": {
	"main": {
	  "instanceType": "mem1_ssd1_v2_x2"
	}
      }
    },
    {
      "id": "stage-FvpbKGQ0Y9g6jkG04bX8Q8fF",
      "name": "Tumor Align",
	"folder":"dnaout",
	"executable": "applet-FvpbFv00Y9gB5Pfv84gJvFgP",
      "input": {
	"sampleid": {
	  "$dnanexus_link": {
	    "workflowInputField": "TumorID"
	  }
	},
        "fq1": {
          "$dnanexus_link": {
            "outputField": "trim1",
            "stage": "stage-FvpbKFQ0Y9g139Y04b101pX6"
          }
        },
	"fq2": {
          "$dnanexus_link": {
            "outputField": "trim2",
            "stage": "stage-FvpbKFQ0Y9g139Y04b101pX6"
          }
	},
	"humanref": {
          "$dnanexus_link": "file-FvPP4380Y9gK9k8384fYB6F5"
	},
	"virusref": {
          "$dnanexus_link": "file-FvPP4QQ0Y9g68JZFBX0PbK8x"
	}
      },
      "systemRequirements": {
        "*": {
          "instanceType": "mem1_ssd1_v2_x16"
        }
      }
    },
    {
      "id": "stage-Fvpf03Q0Y9gGX189BZ3801FY",
      "name": "Normal Align",
	"folder":"dnaout",
	"executable": "applet-FvpbFv00Y9gB5Pfv84gJvFgP",
      "input": {
 	"sampleid": {
	  "$dnanexus_link": {
	    "workflowInputField": "NormalID"
	  }
	},
	"fq1": {
          "$dnanexus_link": {
            "outputField": "trim1",
            "stage": "stage-Fvpf02j0Y9g24fZqGk2zJPpy"
          }
	},
	"fq2": {
          "$dnanexus_link": {
            "outputField": "trim2",
            "stage": "stage-Fvpf02j0Y9g24fZqGk2zJPpy"
          }
	},
	"humanref": {
          "$dnanexus_link": {
            "inputField": "humanref",
            "stage": "stage-FvpbKGQ0Y9g6jkG04bX8Q8fF"
          }
	},
	"virusref": {
          "$dnanexus_link": {
            "inputField": "virusref",
            "stage": "stage-FvpbKGQ0Y9g6jkG04bX8Q8fF"
          }
	}
      },
      "systemRequirements": {
	"*": {
          "instanceType": "mem1_ssd1_v2_x16"
	}
      }
    },
    {
      "id": "stage-FvpbXQ80Y9gK3Z0GBbP4kzxy",
      "name": "Tumor FGBio",
	"folder":"dnaout",
	"executable": "applet-FvpbQ0j0Y9gGvjQz44KXBpP7",
      "input": {
 	"sampleid": {
	  "$dnanexus_link": {
	    "workflowInputField": "TumorID"
	  }
	},
	"humanref": {
          "$dnanexus_link": {
            "inputField": "humanref",
            "stage": "stage-FvpbKGQ0Y9g6jkG04bX8Q8fF"
          }
	},
	"bam": {
          "$dnanexus_link": {
            "outputField": "bam",
            "stage": "stage-FvpbKGQ0Y9g6jkG04bX8Q8fF"
          }
	},
	"bai": {
          "$dnanexus_link": {
            "outputField": "bai",
            "stage": "stage-FvpbKGQ0Y9g6jkG04bX8Q8fF"
          }
	}
      },
      "systemRequirements": {
	"main": {
	  "instanceType": "mem2_ssd1_v2_x2"
	}
      }
    },
    {
      "id": "stage-Fvpf04Q0Y9g2F4Xy7qb1JJyv",
      "name": "Normal FGBio",
	"folder":"dnaout",
	"executable": "applet-FvpbQ0j0Y9gGvjQz44KXBpP7",
      "input": {
	"sampleid": {
	  "$dnanexus_link": {
	    "workflowInputField": "NormalID"
	  }
	},
	"humanref": {
          "$dnanexus_link": {
            "inputField": "humanref",
            "stage": "stage-Fvpf03Q0Y9gGX189BZ3801FY"
          }
	},
	"bam": {
          "$dnanexus_link": {
            "outputField": "bam",
            "stage": "stage-Fvpf03Q0Y9gGX189BZ3801FY"
          }
	},
	"bai": {
          "$dnanexus_link": {
            "outputField": "bai",
            "stage": "stage-Fvpf03Q0Y9gGX189BZ3801FY"
          }
	}
      },
      "systemRequirements": {
	"main": {
	  "instanceType": "mem2_ssd1_v2_x2"
	}
      }
    },
    {
      "id": "stage-FvpbKV00Y9g603k4BZy8KyY5",
      "name": "Tumor BAM QC",
	"folder":"dnaout",
	"executable": "applet-FvpbFv80Y9gK6GZ79z2504FX",
      "input": {
 	"sampleid": {
	  "$dnanexus_link": {
	    "workflowInputField": "TumorID"
	  }
	},
   	"panel": {
	  "$dnanexus_link": {
	    "workflowInputField": "PanelFile"
	  }
        },
	"refinfo": {
          "$dnanexus_link": "file-FvVYkf80Y9g5zV5x88fFZ22p"
        },
        "trimstat": {
          "$dnanexus_link": {
            "outputField": "trimreport",
            "stage": "stage-FvpbKFQ0Y9g139Y04b101pX6"
          }
        },
        "bam": {
          "$dnanexus_link": {
            "outputField": "bam",
            "stage": "stage-FvpbKGQ0Y9g6jkG04bX8Q8fF"
          }
        },
        "bai": {
          "$dnanexus_link": {
            "outputField": "bai",
            "stage": "stage-FvpbKGQ0Y9g6jkG04bX8Q8fF"
          }
        }
      },
      "systemRequirements": {
	"main": {
	  "instanceType": "mem3_ssd1_v2_x8"
	}
      }
    },
    {
      "id": "stage-Fvpf0480Y9g603k4BZy8KzZF",
      "name": "Normal BAM QC",
	"folder":"dnaout",
	"executable": "applet-FvpbFv80Y9gK6GZ79z2504FX",
      "input": {
  	"sampleid": {
	  "$dnanexus_link": {
	    "workflowInputField": "NormalID"
	  }
	},
	"refinfo": {
          "$dnanexus_link": "file-FvVYkf80Y9g5zV5x88fFZ22p"
        },
        "trimstat": {
          "$dnanexus_link": {
            "outputField": "trimreport",
            "stage": "stage-Fvpf02j0Y9g24fZqGk2zJPpy"
          }
        },
        "bam": {
          "$dnanexus_link": {
            "outputField": "bam",
            "stage": "stage-Fvpf03Q0Y9gGX189BZ3801FY"
          }
        },
        "panel": {
          "$dnanexus_link": {
            "inputField": "panel",
            "stage": "stage-FvpbKV00Y9g603k4BZy8KyY5"
          }
        },
        "bai": {
          "$dnanexus_link": {
            "outputField": "bai",
            "stage": "stage-Fvpf03Q0Y9gGX189BZ3801FY"
          }
        }
      },
      "systemRequirements": {
	"main": {
	  "instanceType": "mem3_ssd1_v2_x8"
	}
      }
    },
    {
      "id": "stage-FvpbKX80Y9gPxq3G4fFVfF4Z",
      "name": "SV Calling",
	"folder":"dnacallset",
	"executable": "applet-FvpbG000Y9g6jkG04bX8Q8b6",
      "input": {
 	"caseid": {
	  "$dnanexus_link": {
	    "workflowInputField": "CaseID"
	  }
	},
	"tbam": {
          "$dnanexus_link": {
            "outputField": "bam",
            "stage": "stage-FvpbKGQ0Y9g6jkG04bX8Q8fF"
          }
        },
        "nbam": {
          "$dnanexus_link": {
            "outputField": "bam",
            "stage": "stage-Fvpf03Q0Y9gGX189BZ3801FY"
          }
        },
	"algo": "pindel_itd delly svaba cnvkit itdseek",
        "reference": {
          "$dnanexus_link": "file-FvPP53Q0Y9gK9k8384fYB6Jx"
        },
        "panel": {
          "$dnanexus_link": {
            "inputField": "panel",
            "stage": "stage-FvpbKV00Y9g603k4BZy8KyY5"
          }
        }
      },
      "systemRequirements": {
        "*": {
          "instanceType": "mem1_ssd1_v2_x16"
        }
      }
    },
    {
      "id": "stage-FvpbXqj0Y9gGjg1755vVf0yK",
      "name": "Variant Profiling",
	"folder":"dnacallset",
	"executable": "applet-FvpbQ2j0Y9g80yV1852BZY2F",
      "input": {
  	"caseid": {
	  "$dnanexus_link": {
	    "workflowInputField": "CaseID"
	  }
	},
	"tbam": {
          "$dnanexus_link": {
            "outputField": "bam",
            "stage": "stage-FvpbKGQ0Y9g6jkG04bX8Q8fF"
          }
        },
        "nbam": {
          "$dnanexus_link": {
            "outputField": "bam",
            "stage": "stage-Fvpf03Q0Y9gGX189BZ3801FY"
          }
        },
        "reference": {
          "$dnanexus_link": "file-FvZ2P3j0Y9g91by34BGKzkjp"
        },
        "panel": {
          "$dnanexus_link": {
            "inputField": "panel",
            "stage": "stage-FvpbKV00Y9g603k4BZy8KyY5"
          }
        }
      }
    },
    {
      "id": "stage-FvpbKbj0Y9g07vb04bpVVPBQ",
      "name": "FB-Strelka2-Platypus-Shimmer",
	"folder":"dnacallset",
	"executable": "applet-FvpbFz00Y9gPxq3G4fFVfF1x",
      "input": {
  	"caseid": {
	  "$dnanexus_link": {
	    "workflowInputField": "CaseID"
	  }
	},
        "tbam": {
          "$dnanexus_link": {
            "outputField": "dedupbam",
            "stage": "stage-FvpbXQ80Y9gK3Z0GBbP4kzxy"
          }
        },
        "nbam": {
          "$dnanexus_link": {
            "outputField": "dedupbam",
            "stage": "stage-Fvpf04Q0Y9g2F4Xy7qb1JJyv"
          }
        },
        "algo": "fb strelka2 platypus shimmer",
	"reference": {
          "$dnanexus_link": "file-FvPP1800Y9g471Q25gxJqp85"
        },
        "panel": {
          "$dnanexus_link": {
            "inputField": "panel",
            "stage": "stage-FvpbKV00Y9g603k4BZy8KyY5"
          }
        }
      },
      "systemRequirements": {
        "*": {
          "instanceType": "mem1_ssd1_v2_x16"
        }
      }
    },
    {
      "id": "stage-FvpbKj80Y9gGyFz6GgXyvvXX",
      "name": "Tumor BQSR",
	"folder":"dnaout",
	"executable": "applet-FvpbFvQ0Y9gBgppkGV11ZVf3",
      "input": {
 	"sampleid": {
	  "$dnanexus_link": {
	    "workflowInputField": "TumorID"
	  }
        },
        "bam": {
          "$dnanexus_link": {
            "outputField": "dedupbam",
            "stage": "stage-FvpbXQ80Y9gK3Z0GBbP4kzxy"
          }
        },
        "reference": {
          "$dnanexus_link": {
            "inputField": "reference",
            "stage": "stage-FvpbKbj0Y9g07vb04bpVVPBQ"
          }
        },
        "bai": {
          "$dnanexus_link": {
            "outputField": "dedupbai",
            "stage": "stage-FvpbXQ80Y9gK3Z0GBbP4kzxy"
          }
        }
      },
      "systemRequirements": {
	"main": {
	  "instanceType": "mem3_hdd2_x2"
	}
      }
    },
    {
      "id": "stage-Fvpf0500Y9g139Y04b101qXB",
      "name": "Normal BQSR",
	"folder":"dnaout",
	"executable": "applet-FvpbFvQ0Y9gBgppkGV11ZVf3",
      "input": {
 	"sampleid": {
	  "$dnanexus_link": {
	    "workflowInputField": "NormalID"
	  }
        },
        "bam": {
          "$dnanexus_link": {
            "outputField": "dedupbam",
            "stage": "stage-Fvpf04Q0Y9g2F4Xy7qb1JJyv"
          }
        },
        "reference": {
          "$dnanexus_link": "file-FvPP1800Y9g471Q25gxJqp85"
        },
        "bai": {
          "$dnanexus_link": {
            "outputField": "dedupbai",
            "stage": "stage-Fvpf04Q0Y9g2F4Xy7qb1JJyv"
          }
        }
      },
      "systemRequirements": {
	"main": {
	  "instanceType": "mem3_hdd2_x2"
	}
      }
    },
    {
      "id": "stage-FvpbKf00Y9gPxq3G4fFVfF4x",
      "name": "Mutect2",
	"folder":"dnacallset",
	"executable": "applet-FvpbFz00Y9gPxq3G4fFVfF1x",
      "input": {
  	"caseid": {
	  "$dnanexus_link": {
	    "workflowInputField": "CaseID"
	  }
	},
	"tbam": {
          "$dnanexus_link": {
            "outputField": "gatkbam",
            "stage": "stage-FvpbKj80Y9gGyFz6GgXyvvXX"
          }
        },
        "nbam": {
          "$dnanexus_link": {
            "outputField": "gatkbam",
            "stage": "stage-Fvpf0500Y9g139Y04b101qXB"
          }
        },
        "algo": "mutect",
        "reference": {
          "$dnanexus_link": {
            "inputField": "reference",
            "stage": "stage-FvpbKbj0Y9g07vb04bpVVPBQ"
          }
        },
        "panel": {
          "$dnanexus_link": {
            "inputField": "panel",
            "stage": "stage-FvpbKV00Y9g603k4BZy8KyY5"
          }
        }
      },
      "systemRequirements": {
        "*": {
          "instanceType": "mem3_ssd1_v2_x4"
        }
      }
    },
    {
      "id": "stage-FvpbXvj0Y9gGyFz6GgXyvyJ9",
      "name": "Union VCF",
	"folder":"dnavcf",
	"executable": "applet-FvpbPz80Y9gK4bP245VFV6P2",
      "input": {
 	"caseid": {
	  "$dnanexus_link": {
	    "workflowInputField": "CaseID"
	  }
	},
        "vcffiles": [
          {
            "$dnanexus_link": {
              "outputField": "vcf",
              "stage": "stage-FvpbKbj0Y9g07vb04bpVVPBQ"
            }
          },
          {
            "$dnanexus_link": {
              "outputField": "vcf",
              "stage": "stage-FvpbKf00Y9gPxq3G4fFVfF4x"
            }
          }
        ],
        "genodict": {
          "$dnanexus_link": "file-FvQykqj0Y9gPXZ7QG3Z4K2GP"
        }
      },
	"systemRequirements": {
	    "main": {
		"instanceType": "mem1_ssd1_v2_x2"
	    }
	}
    }
  ]
}
 
